<div [class]="
    'mb-8 px-4 md:px-10 py-8 relative' +
    (section().backgroundColor ? ' ' + section().backgroundColor : ' bg-white')
  ">
  <!-- Section Header -->
  <div class="flex justify-between items-center pr-4 mb-4">
    <div class="flex items-center gap-2">
      <img [src]="section().icon" [alt]="section().title" class="w-6 h-6" />
      <h2 class="text-[18px] font-bold" [class]="titleColor === 'dark' ? 'text-gray-800' : 'text-white'">
        {{ section().title }}
      </h2>
    </div>
  </div>

  <!-- Audio Carousel Container -->
  <div class="relative" style="z-index: 2; position: relative">
    <!-- Navigation Buttons -->
    <button (click)="scrollLeft()"
      class="absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-white !rounded-full shadow-lg p-2 hover:bg-gray-50 transition-colors duration-200 md:flex items-center justify-center cursor-pointer"
      style="width: 40px; height: 40px; margin-left: -15px">
      <svg viewBox="0 0 24 24" class="w-5 h-5 text-black">
        <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" fill="currentColor" />
      </svg>
    </button>

    <button (click)="scrollRight()"
      class="absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-white !rounded-full shadow-lg p-2 hover:bg-gray-50 transition-colors duration-200 md:flex items-center justify-center cursor-pointer"
      style="width: 40px; height: 40px; margin-right: -15px">
      <svg viewBox="0 0 24 24" class="w-5 h-5 text-black">
        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" fill="currentColor" />
      </svg>
    </button>

    <!-- Carousel Content -->
    <div #carousel class="overflow-x-auto scrollbar-hidden"
      style="scroll-snap-type: x mandatory; scrollbar-width: none; -ms-overflow-style: none">
      <div class="flex space-x-2 md:space-x-4 pb-4" style="width: max-content">
        @for (mix of section().mixes; track mix.link) {
        <a [href]="mix.link" [attr.rel]="mix.link.includes('http') ? 'noopener noreferrer' : null"
          [attr.target]="mix.link.includes('http') ? '_blank' : null" class="flex-shrink-0 duration-300 block"
          style="width: 250px; scroll-snap-align: start">
          <div class="group relative">
            <img [src]="mix.image" [alt]="mix.title || 'Audio Mix'"
              class="rounded-lg aspect-square w-full h-full object-cover group-hover:scale-105 transition-transform duration-300" />
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-20 duration-300 rounded-lg"></div>
          </div>
        </a>
        }
      </div>
    </div>
  </div>

  <!-- Decorative Stripes (for "More Mixes" section) -->
  @if (section().decorativeStripes) {
  <div class="absolute inset-x-0 top-1/2 transform -translate-y-1/2 hidden md:inline" style="z-index: 1">
    <div class="w-full h-5 bg-[#FF40A4] mb-2"></div>
    <div class="w-full h-5 bg-[#FF40A4] mb-2"></div>
    <div class="w-full h-5 bg-[#FF40A4] mb-2"></div>
    <div class="w-full h-5 bg-[#FF40A4] mb-2"></div>
  </div>
  }
</div>