<!-- HEADER -->
<div class="h-[58px] z-50 bg-white flex items-center fixed top-0 left-0 w-full border-b">
  <div class="w-[96%] mx-auto flex h-[58px] items-center justify-between">
    <!-- Logo and Desktop Nav -->
    <div class="flex items-center gap-6">
      <a [routerLink]="['/']" class="h-[70%]">
        <img
          src="https://cdn.shopify.com/s/files/1/0275/0188/7533/files/skratch_bastid_beard_logo_360x.png?v=1614314315"
          style="height: 100%; max-height: 40px; object-fit: contain" alt="Logo Skratch Bastid" />
      </a>

      <!-- Desktop Menu -->
      <div class="hidden lg:flex gap-6 font-semibold uppercase relative">
        @for (link of navLinks; track $index) {
        <div [class]="'link-container ' + link.hoverColor">
          @if (!link.external) {
            <a [routerLink]="[link.href]" [style]="{ color: isActive(link.href) ? link.color : 'inherit' }">
              {{ link.label }}
            </a>
          } @else {
            <a [href]="link.href" target="_blank" rel="noopener noreferrer">{{ link.label }}</a>
          }
          <img [src]="link.hoverImage" [alt]="link.label + ' Image'" class="link-image"
            [class]="isActive(link.href) ? 'show' : ''" />
        </div>
        }
      </div>
    </div>

    <!-- Mobile Horizontal Scroll Menu -->
    <!-- Mobile: hamburger-only (hidden on lg) -->
    <div class="lg:hidden flex items-center">
      <button aria-label="Open menu" (click)="toggleMobileMenu()" class="p-2 rounded-md focus:outline-none">
        @if (!mobileMenuOpen) {
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
        } @else {
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
        }
      </button>
    </div>

    <!-- Desktop Auth Buttons -->
    <div class="hidden lg:flex">
      <div class="lg:flex gap-4">
        <a [routerLink]="['/join']"
          class="border border-orange-500 text-black font-bold px-5 py-2 text-xs rounded-[8px] bg-white hover:bg-orange-100 text-decoration-none">SIGN
          UP</a>
        <a [routerLink]="['/login']"
          class="bg-black text-white font-bold px-5 py-2 text-xs rounded-[8px] hover:bg-gray-800 text-decoration-none">LOG
          IN</a>
      </div>
    </div>
  </div>
</div>

<!-- Mobile overlay + sliding side-nav -->
@if (mobileMenuOpen) {
<div class="lg:hidden fixed inset-0 z-50 sb-overlay open" (click)="onOverlayClick($event)">
  <div class="sb-drawer bg-white w-4/5 max-w-sm h-full p-6 transform transition-transform duration-300 open"
    (click)="$event.stopPropagation()" tabindex="0">
    <div class="flex items-center justify-between mb-6">
      <a [routerLink]="['/']" (click)="closeMobileMenu()">
        <img
          src="https://cdn.shopify.com/s/files/1/0275/0188/7533/files/skratch_bastid_beard_logo_360x.png?v=1614314315"
          style="height: 40px; object-fit: contain" alt="logo" />
      </a>
      <button aria-label="Close menu" (click)="closeMobileMenu()" class="p-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <nav class="flex flex-col gap-4">
      @for (link of navLinks; track $index) {
        @if (!link.external) {
          <a [routerLink]="[link.href]" (click)="closeMobileMenu()" class="text-lg font-semibold">{{ link.label }}</a>
        } @else {
          <a [href]="link.href" target="_blank" rel="noopener noreferrer" (click)="closeMobileMenu()" class="text-lg font-semibold">{{ link.label }}</a>
        }
      }
    </nav>

    <div class="mt-6 border-t pt-4">
      @for (link of mobileAuthLinks; track $index) {
        @if (link.href && link.href.startsWith('/')) {
          <a [routerLink]="[link.href]" (click)="closeMobileMenu()" class="block py-2 font-bold">{{ link.label }}</a>
        } @else {
          <a href="javascript:;" (click)="closeMobileMenu();" class="block py-2 font-bold">{{ link.label }}</a>
        }
      }
    </div>
  </div>
</div>
}